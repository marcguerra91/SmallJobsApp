@model IEnumerable<SmallJob.Models.AssignedJobListItem>

@{
    ViewBag.Title = "Index";
}
<body class="jobsInProgress">


<h2>Jobs in Progress</h2>

<p>
    @Html.ActionLink("Create new", "Create")
</p>

@if (TempData.ContainsKey("SaveResult"))
{
<div class="alert alert-success fade in" role="alert">
    <button type="button" class="close" data-dismiss="alert">
        <span>&times;</span>    
    </button>
    @TempData["SaveResult"]
</div> 
}


<table class="table table-hover table-condensed">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.AssignmentId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.JobId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.WorkerId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.JobComplete)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CreatedUtc)
        </th>
        <th></th>
    </tr>


    @foreach (var item in Model)
    {
        if (item.JobComplete)

        {
            <tr class="jobComplete">

                <td>
                    @Html.DisplayFor(modelItem => item.AssignmentId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JobId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.WorkerId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JobComplete)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CreatedUtc)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.AssignmentId }, htmlAttributes: new { @class = "btn btn-warning" })
                    @Html.ActionLink("Details", "Details", new { id = item.AssignmentId }, htmlAttributes: new { @class = "btn btn-info" })
                    @Html.ActionLink("Delete", "Delete", new { id = item.AssignmentId }, htmlAttributes: new { @class = "btn btn-danger" })

                </td>
            </tr>
        }
        else
        {
            <tr class="jobCompleteFalse">

                <td>
                    @Html.DisplayFor(modelItem => item.AssignmentId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JobId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.WorkerId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JobComplete)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CreatedUtc)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.AssignmentId }, htmlAttributes: new { @class = "btn btn-warning" })
                    @Html.ActionLink("Details", "Details", new { id = item.AssignmentId }, htmlAttributes: new { @class = "btn btn-info" })
                    @Html.ActionLink("Delete", "Delete", new { id = item.AssignmentId }, htmlAttributes: new {@class = "btn btn-danger"}) 
                </td>
            </tr>
        }
    }

</table>
</body>
